@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #171717;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}
@media (pointer: fine) {
  body.cursor-enabled, body.cursor-enabled * { cursor: none !important; }
}

/* ===== Studio-like reveal ===== */
.app-reveal {
  opacity: 0;
  transform: translateY(8px) scale(0.98);
  filter: blur(8px);
  transition:
    opacity 600ms cubic-bezier(.2,.7,.2,1),
    transform 700ms cubic-bezier(.2,.7,.2,1),
    filter 700ms cubic-bezier(.2,.7,.2,1);
}
body.app-ready .app-reveal {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

/* прелоадер (занимает весь экран, поверх всего) */
.preloader {
  background: #000; /* база под градиентами, смотрится «дороже» */
  animation: preloaderFade 320ms ease forwards;
}
body.app-ready .preloader {
  animation-name: preloaderFadeOut;
}

@keyframes preloaderFadeOut {
  to { opacity: 0; visibility: hidden; pointer-events: none; }
}

/* анимация штриха по кругу */
@keyframes stroke {
  0%   { stroke-dashoffset: 110; }
  50%  { stroke-dashoffset: 55; }
  100% { stroke-dashoffset: 0; }
}
.animate-stroke {
  animation: stroke 1.8s cubic-bezier(.2,.7,.2,1) infinite alternate;
}

/* accessibility: без резких анимаций при reduced motion */
@media (prefers-reduced-motion: reduce) {
  .app-reveal, .animate-stroke {
    animation: none !important;
    transition: none !important;
    transform: none !important;
    filter: none !important;
    opacity: 1 !important;
  }
  .preloader { display: none !important; }
}

/* курсор: включаем скрытие только если активен наш эффект */
@media (pointer: fine) {
  body.cursor-enabled, body.cursor-enabled * { cursor: none !important; }
}

/* Кино-ревил: до готовности — слегка размыт, уменьшен и опущен */
.app-reveal {
  opacity: 0;
  transform: translateY(10px) scale(0.985);
  filter: blur(10px);
  transition:
    opacity 700ms cubic-bezier(.2,.7,.2,1),
    transform 800ms cubic-bezier(.2,.7,.2,1),
    filter 800ms cubic-bezier(.2,.7,.2,1);
  will-change: opacity, transform, filter;
}
body.app-ready .app-reveal {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

/* мягкий шум/зерно на чёрной заливке можете добавить при желании
   (оставил пустым, волна — главный акцент) */

/* a11y: отключаем движение, если пользователь против анимаций */
@media (prefers-reduced-motion: reduce) {
  .app-reveal {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }
}

/* кинематографичный reveal основного контента */
.app-reveal {
  opacity: 0;
  transform: translateY(10px) scale(0.985);
  filter: blur(10px);
  transition:
    opacity 720ms cubic-bezier(.2,.7,.2,1),
    transform 820ms cubic-bezier(.2,.7,.2,1),
    filter 820ms cubic-bezier(.2,.7,.2,1);
  will-change: opacity, transform, filter;
}
body.app-ready .app-reveal {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

/* — круговой лоадер — */
.ss-loader {
  display: block;
  animation: ss-rotate 1.6s linear infinite;
}
.ss-loader-indicator {
  animation: ss-dash 1.6s ease-in-out infinite;
  transform-origin: 50% 50%;
}
@keyframes ss-rotate {
  100% { transform: rotate(360deg); }
}
@keyframes ss-dash {
  0%   { stroke-dasharray: 2 236; stroke-dashoffset: 0; }
  50%  { stroke-dasharray: 120 118; stroke-dashoffset: -20; }
  100% { stroke-dasharray: 2 236; stroke-dashoffset: -240; }
}

/* доступность */
@media (prefers-reduced-motion: reduce) {
  .app-reveal { opacity: 1 !important; transform: none !important; filter: none !important; transition: none !important; }
  .ss-loader, .ss-loader-indicator { animation: none !important; }
}

/* — микро-анимации появления — */
@keyframes fadeInUp {
  0% { opacity: 0; transform: translate3d(0, 10px, 0); }
  100% { opacity: 1; transform: translate3d(0, 0, 0); }
}
.fade-in-up {
  animation: fadeInUp 720ms cubic-bezier(.2,.7,.2,1) both;
}

/* плавные переходы для fade/blur/transform */
.section-fade {
  opacity: 0;
  transform: translateY(16px);
  filter: blur(6px);
  transition:
    opacity 600ms cubic-bezier(.2,.7,.2,1),
    transform 700ms cubic-bezier(.2,.7,.2,1),
    filter 700ms cubic-bezier(.2,.7,.2,1);
  will-change: opacity, transform, filter;
}
.section-fade.is-visible {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

/* 3D Canvas контейнер — GPU hint */
.canvas-sticky, .canvas-sticky * {
  will-change: transform;
}

/* плавные переходы для fade/blur/transform */
.section-fade {
  opacity: 0;
  transform: translateY(16px);
  filter: blur(6px);
  transition:
    opacity 600ms cubic-bezier(.2,.7,.2,1),
    transform 700ms cubic-bezier(.2,.7,.2,1),
    filter 700ms cubic-bezier(.2,.7,.2,1);
  will-change: opacity, transform, filter;
}
.section-fade.is-visible {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

/* 3D Canvas контейнер — GPU hint */
.canvas-sticky, .canvas-sticky * {
  will-change: transform;
}

/* плавные переходы для fade/blur/transform */
.section-fade {
  opacity: 0;
  transform: translateY(16px);
  filter: blur(6px);
  transition:
    opacity 600ms cubic-bezier(.2,.7,.2,1),
    transform 700ms cubic-bezier(.2,.7,.2,1),
    filter 700ms cubic-bezier(.2,.7,.2,1);
  will-change: opacity, transform, filter;
}
.section-fade.is-visible {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

/* 3D Canvas контейнер — GPU hint */
.canvas-sticky, .canvas-sticky * {
  will-change: transform;
}

/* GPU hint для фиксированного оверлея */
.scene-overlay, .scene-overlay * {
  will-change: transform, opacity;
}
/* GPU hint для fixed-оверлея */
.scene-overlay, .scene-overlay * { will-change: transform, opacity; }

/* Спрятать скроллбары кросс-браузерно */
html {
  -ms-overflow-style: none;    /* IE/Edge старые */
  scrollbar-width: none;       /* Firefox */
}
html::-webkit-scrollbar {
  width: 0 !important; height: 0 !important; display: none !important; /* Chrome/Safari/Edge */
}

/* Чуть мягче кинематику слоёв */
.fixed, .pointer-events-none { will-change: opacity, transform; }
